function adCounterToTopNav(e){$("#nav-top ul li a.jobb").append(`<span class="nav-badge">${e}</span>`)}function shuffleArray(e){for(let a=e.length-1;a>0;a--){const n=Math.floor(Math.random()*(a+1));[e[a],e[n]]=[e[n],e[a]]}}function drawFooterContent(e,a,n,i,t){var r=$('<div class="footer-content row"></div>'),l=drawRelatedArticleElements(n,i,e,a);r.append(l),$(".facebook-comments").after(r)}function drawFrontArticleElements(e,a,n){var i=$('<div class="footer-content-related"><h3>Siste nytt</h3></div>'),t=$('<div class="footer-content-wrap"></div>'),r=$('<div class="footer-content-wrap two-col"></div>');return t.append(drawArticle(e[2])),n.length>1?t.append(drawPremiumAd(n[1])):t.append(drawPremiumAd(a[1])),t.append(drawArticle(e[3])),r.append(drawArticle(e[0])),r.append(drawArticle(e[1])),i.append(r,t)}function drawRelatedArticleElements(e,a,n,i){var t=$('<div class="footer-content-related"><h3>Relaterte saker</h3></div>'),r=$('<div class="footer-content-wrap"></div>'),l=$('<div class="footer-content-wrap two-col"></div>'),d=$('<div class="footer-content-wrap"></div>');return r.append(drawArticle(e[2])),i.length?r.append(drawPremiumAd(i[0])):r.append(drawPremiumAd(n[0])),r.append(drawArticle(e[3])),l.append(drawArticle(e[0])),l.append(drawArticle(e[1])),e.length>=7&&(d.append(drawArticle(e[4])),d.append(drawArticle(e[5])),d.append(drawArticle(e[6]))),t.append(l,r,d)}function getTagsElements(e,a){for(var n=$('<div class="article-tags"></div>'),i=e.split(", "),t=(i=i.filter(e=>e!==a)).length-1<2?i.length-1:2,r=0;r<=t;r++)n.append(`\n        <span>${i[r]}</span>\n      `);return n}function drawArticle(e){var a=getTagsElements(e.tags,e.section_tag);return articleElement=$(`\n            <a class="article article-link" href="//kode24.no${e.published_url}">\n        <div class="article-image">\n        ${e.images?`<img alt="article image" src="${e.images[0].url_size}">`:`<img alt="article image" src="//dbstatic.no/${e.image}.jpg?width=600">`}\n                    \n                </div>\n        <div class="text-content">\n                    <h4>${e.title}</h4>\n        </div>    \n      </a>`),articleElement.find(".article-image").append(a),articleElement}function drawPremiumAd(e,a){var n=getCitysFromTags(e.tags),i=$(`\n        <a class="premium-ad ad" href="//kode24.no${e.published_url}">\n            ${a?"":`<div class="ad-image"><img alt="ad image" src="//dbstatic.no/${e.image}.jpg?width=400"></div>`}\n            \n            <div class="ad-text">\n            <div class="ad-company-logo"><img alt="byline image" src="https://dbstatic.no${e.full_bylines[0].imageUrl}"></div>\n                    <h4>${e.full_bylines[0].firstname}</h4>\n                    <h5>${e.title}</h5>\n                    <h6>${e.subtitle}</h6>\n            </div>\n                            \n        </a>`),t=$('<p class="cities"></p>');return n.forEach((function(e){t.append($("<span>"+e+"</span>"))})),i.append(t),i}function drawRegularAd(e){var a=getCitysFromTags(e.tags),n=$(`\n        <a class="ad" href="//kode24.no${e.published_url}">\n        <div class="ad-company-logo"><img alt="byline image" src="https://dbstatic.no${e.full_bylines[0].imageUrl}"></div>\n            </div>\n            <h4>\n                ${e.full_bylines[0].firstname}&nbsp;\n            </h4>\n            <h5>${e.title}</h5>\n        </a>`),i=$('<p class="cities"></p>');return a.forEach((function(e){i.append($("<span>"+e+"</span>"))})),n.append(i),n}function drawContentAd(e){if(e.length){var a=e[0],n=$('<div class="aside-container ads"><h3>Anonsørinnhold</h3></div>'),i=$(`<a class="premium-ad content-ad ad" href="//kode24.no${a.published_url}">\n            <div class="ad-image"><img alt="ad image" src="//dbstatic.no/${a.image}.jpg?width=400"></div>\n            <div class="ad-text">\n            <div class="ad-company-logo"><img alt="company logo" src="https://dbstatic.no${a.full_bylines[0].imageUrl}"></div>\n                <h4>${a.full_bylines[0].firstname}</h4>\n                <h5>${a.title}</h5>\n                <h6>${a.subtitle}</h6>\n            </div>\n            \n        </a>`);return n.append(i),n}return""}function drawPremiumUnderByline(e){var a=getPremiumAdsElement(e,!0),n=$('<div class="byline-listing"><h3>Ledig stilling</h3></div>'),i=$('<div class="premium"></div>').append(a.premiumAdElement);n.append(i),$(".byline.columns").after(n)}function drawAdsContainer(e,a){var n=$('<div class="aside-container ads"><h3>Ledige stillinger</h3></div>');if(a.length)var i=getPremiumAdsElement(a),t=i.premiumAdElement;var r=0;i&&i.premiumAdId&&(r=i.premiumAdId);var l=getRegularAdsElements(e,r);return a.length&&t&&n.append(t),l&&n.append(l),n.append('<div class="adslist-see-more"><a href="//kode24.no/jobb/"><span>Se alle stillinger ('+e.length+")</span></a></div>"),n}function drawRelatedArticles(e,a){e=e.slice(0,3);var n=$('<div class="aside-container related"><h3>Siste fra: '+a+"</h3></div>");return e.forEach((function(e,a){var i=$(`\n        <article class="article top ${0===a?"top":""}">\n        <a class="article-link" href="//kode24.no${e.published_url}">\n         <div class="article-image"><img alt="article image" src="//dbstatic.no/${e.image}.jpg?width=400"></div>\n        <div class="text-content">\n            <h4>${e.title}</h4>\n        </div>    \n         </a></article>`);n.append(i)})),n}function drawFrontArticles(e){e=e.slice(0,5);var a=$('<div class="aside-container related front"><h3>Siste nytt</h3></div>');return e.forEach((function(e,n){var i=$(`\n        <article class="article">\n        <a class="article-link" href="${e.url}">\n         <div class="article-image"><img alt="article image" src="//dbstatic.no/${e.imageUrl}"></div>\n        <div class="text-content">\n            <h4>${$("<div>"+e.title+"</div>").text()}</h4>\n            <h5>${$("<div>"+e.description+"</div>").text()}</h5>\n        </div>    \n         </a></article>`);a.append(i)})),a}function drawAside(e,a,n,i,t,r,l){var d=$("<div></div>").addClass("aside-desktop"),s=drawContentAd(l),o=drawAdsContainer(e,a);d.append(s,o);var c=drawRelatedArticles(n,i);r>2740&&d.append(c);var u=drawFrontArticles(t);r>3315&&d.append(u),$(".body-copy").parent().append(d)}function getRegularAdsElements(e,a){var n=$('<div class="regular-ad"></div>');return shuffleArray(e),(e=e.slice(0,8)).forEach((function(e){if(e.id!==a&&"P"===e.visibility_status){var i=getCitysFromTags(e.tags),t=$(`\n            <a class="ad" href="//kode24.no${e.published_url}">\n            <div class="ad-company-logo"><img alt="company logo" src="https://dbstatic.no${e.full_bylines[0].imageUrl}"></div>\n            <h4>\n                ${e.full_bylines[0].firstname}&nbsp;\n            </h4>\n            <h5>${e.title}</h5>\n            </a>`),r=$('<p class="cities"></p>');i.forEach((function(e){r.append($("<span>"+e+"</span>"))})),t.append(r),n.append(t)}})),n}function getPremiumAdsElement(e,a){var n=void 0;if(shuffleArray(e),e.length){premiumAd=e[0];var i=getCitysFromTags(premiumAd.tags);n=$(`<a class="premium-ad ad" href="//kode24.no${premiumAd.published_url}">\n    ${a?"":`<div class="ad-image"><img alt="premium ad image" src="//dbstatic.no/${premiumAd.image}.jpg?width=400"></div>`}\n            <div class="ad-text">\n            <div class="ad-company-logo"><img alt="premium ad image" src="https://dbstatic.no${premiumAd.full_bylines[0].imageUrl}"></div>\n                <h4>${premiumAd.full_bylines[0].firstname}</h4>\n                <h5>${premiumAd.title}</h5>\n                <h6>${premiumAd.subtitle}</h6>\n            </div>\n            \n        </a>`);var t=$('<p class="cities"></p>');i.forEach((function(e){t.append($("<span>"+e+"</span>"))})),n.append(t)}return{premiumAdElement:n,premiumAdId:premiumAd.id}}function getAds(e){getUrl("//api.kode24.no/article/?query=published:[2017-01-01T00:00:00Z+TO+NOW]+AND+NOT+hidefromfp_time:[*+TO+NOW]+AND+visibility_status:P+AND+section:jobb&site_id=207&limit=2000",(function(a){var n=a.result.filter(e=>"H"!==e.visibility_status);e(n)}))}function getFrontArticles(e,a,n){getUrl("//www.kode24.no/"+e+"?lab_viewport=json",(function(e){var i=[];i=a?e.result.filter((function(e){return"1"!==e.isContentMarketing})):e.result,n(i)}))}function getContentAds(e){getUrl("//api.kode24.no/article/?query=published:[2017-01-01T00:00:00Z+TO+NOW]+AND+visibility_status:P+AND+section:annonse&limit=50&orderBy=published&site_id=207",(function(a){var n=a.result.filter(e=>e.tags.indexOf("content")>-1);e(n)}))}function getArticlesByTag(e){var a=getArticleId();getUrl("//api.kode24.no/article/?query=id:"+a,(function(a){var n=a.result[0].section_tag;getUrl('//api.kode24.no/article/?query=published:[2017-01-01T00:00:00Z+TO+NOW]+AND+visibility_status:P+AND+section:"'+n+'"&limit=50&orderBy=published&site_id=207',(function(a){e(a.result,n)}))}))}function getArticleId(){var e=window.location.href.split("?")[0].split("/").filter(e=>""!==e);return e[e.length-1]}function getCitysFromTags(e){e=e.split(",");var a=[],n=["Halden","Moss","Sarpsborg","Fredrikstad","Hvaler","Aremark","Marker","Rømskog","Trøgstad","Spydeberg","Askim","Eidsberg","Skiptvet","Rakkestad","Råde","Rygge","Våler","Hobøl","Vestby","Ski","Ås","Frogn","Nesodden","Oppegård","Bærum","Asker","Aurskog-Høland","Sørum","Fet","Rælingen","Enebakk","Lørenskog","Skedsmo","Nittedal","Gjerdrum","Ullensaker","Nes","Eidsvoll","Nannestad","Hurdal","Oslo","Kongsvinger","Hamar","Ringsaker","Løten","Stange","Nord-Odal","Sør-Odal","Eidskog","Grue","Åsnes","Våler","Elverum","Trysil","Åmot","Stor-Elvdal","Rendalen","Engerdal","Tolga","Tynset","Alvdal","Folldal","Os","Lillehammer","Gjøvik","Dovre","Lesja","Skjåk","Lom","Vågå","Nord-Fron","Sel","Sør-Fron","Ringebu","Øyer","Gausdal","Østre Toten","Vestre Toten","Jevnaker","Lunner","Gran","Søndre Land","Nordre Land","Sør-Aurdal","Etnedal","Nord-Aurdal","Vestre Slidre","Øystre Slidre","Vang","Drammen","Kongsberg","Ringerike","Hole","Flå","Nes","Gol","Hemsedal","Ål","Hol","Sigdal","Krødsherad","Modum","Øvre Eiker","Nedre Eiker","Lier","Røyken","Hurum","Flesberg","Rollag","Nore og Uvdal","Horten","Tønsberg","Sandefjord","Svelvik","Larvik","Sande","Holmestrand","Re","Færder","Porsgrunn","Skien","Notodden","Siljan","Bamble","Kragerø","Drangedal","Nome","Bø","Sauherad","Tinn","Hjartdal","Seljord","Kviteseid","Nissedal","Fyresdal","Tokke","Vinje","Risør","Grimstad","Arendal","Gjerstad","Vegårshei","Tvedestrand","Froland","Lillesand","Birkenes","Åmli","Iveland","Evje og Hornnes","Bygland","Valle","Bykle","Kristiansand","Mandal","Farsund","Flekkefjord","Vennesla","Songdalen","Søgne","Marnardal","Åseral","Audnedal","Lindesnes","Lyngdal","Hægebostad","Kvinesdal","Sirdal","Eigersund","Sandnes","Stavanger","Haugesund","Sokndal","Lund","Bjerkreim","Hå","Klepp","Time","Gjesdal","Sola","Randaberg","Forsand","Strand","Hjelmeland","Suldal","Sauda","Finnøy","Rennesøy","Kvitsøy","Bokn","Tysvær","Karmøy","Utsira","Vindafjord","Bergen","Etne","Sveio","Bømlo","Stord","Fitjar","Tysnes","Kvinnherad","Jondal","Odda","Ullensvang","Eidfjord","Ulvik","Granvin","Voss","Kvam","Fusa","Samnanger","Os","Austevoll","Sund","Fjell","Askøy","Vaksdal","Modalen","Osterøy","Meland","Øygarden","Radøy","Lindås","Austrheim","Fedje","Masfjorden","Flora","Gulen","Solund","Hyllestad","Høyanger","Vik","Balestrand","Leikanger","Sogndal","Aurland","Lærdal","Årdal","Luster","Askvoll","Fjaler","Gaular","Jølster","Førde","Naustdal","Bremanger","Vågsøy","Selje","Eid","Hornindal","Gloppen","Stryn","Molde","Ålesund","Kristiansund","Vanylven","Sande","Herøy","Ulstein","Hareid","Volda","Ørsta","Ørskog","Norddal","Stranda","Stordal","Sykkylven","Skodje","Sula","Giske","Haram","Vestnes","Rauma","Nesset","Midsund","Sandøy","Aukra","Fræna","Eide","Averøy","Gjemnes","Tingvoll","Sunndal","Surnadal","Rindal","Halsa","Smøla","Aure","Bodø","Narvik","Bindal","Sømna","Brønnøy","Vega","Vevelstad","Herøy","Alstahaug","Leirfjord","Vefsn","Grane","Hattfjelldal","Dønna","Nesna","Hemnes","Rana","Lurøy","Træna","Rødøy","Meløy","Gildeskål","Beiarn","Saltdal","Fauske","Sørfold","Steigen","Hamarøy","Tysfjord","Lødingen","Tjeldsund","Evenes","Ballangen","Røst","Værøy","Flakstad","Vestvågøy","Vågan","Hadsel","Bø","Øksnes","Sortland","Andøy","Moskenes","Harstad","Tromsø","Kvæfjord","Skånland","Ibestad","Gratangen","Lavangen","Bardu","Salangen","Målselv","Sørreisa","Dyrøy","Tranøy","Torsken","Berg","Lenvik","Balsfjord","Karlsøy","Lyngen","Storfjord","Kåfjord","Skjervøy","Nordreisa","Kvænangen","Vardø","Vadsø","Hammerfest","Kautokeino","Alta","Loppa","Hasvik","Kvalsund","Måsøy","Nordkapp","Porsanger","Karasjok","Lebesby","Gamvik","Berlevåg","Tana","Nesseby","Båtsfjord","Sør-Varanger","Trondheim","Steinkjer","Namsos","Hemne","Snillfjord","Hitra","Frøya","Ørland","Agdenes","Bjugn","Åfjord","Roan","Osen","Oppdal","Rennebu","Meldal","Orkdal","Røros","Holtålen","Midtre Gauldal","Melhus","Skaun","Klæbu","Malvik","Selbu","Tydal","Meråker","Stjørdal","Frosta","Levanger","Verdal","Verran","Namdalseid","Snåsa","Lierne","Røyrvik","Namsskogan","Grong","Høylandet","Overhalla","Fosnes","Flatanger","Vikna","Nærøy","Leka","Inderøy","Indre Fosen"];return e.forEach((function(e){e=e.replace(/ /g,""),n.forEach((function(n,i){e==n.toLowerCase()&&a.push(n)}))})),a}function cleanSectionTag(e){return e=e.replace(/ /g,"-")}function getUrl(e,a){$.ajax({type:"GET",url:e,headers:{"Access-Control-Allow-Origin":"*"},success:function(e){a(e)}})}function shuffleArray(e){for(let a=e.length-1;a>0;a--){const n=Math.floor(Math.random()*(a+1));[e[a],e[n]]=[e[n],e[a]]}}function initCarousel(e,a){var n=$('<div class="row"></div>'),i=$('<div class="auto-job-carousel"></div>');e=e instanceof jQuery?e:$(e);$.ajax({type:"GET",url:"//api.kode24.no/article/?query=published:[2017-01-01T00:00:00Z+TO+NOW]+AND+NOT+hidefromfp_time:[*+TO+NOW]+AND+visibility_status:P+AND+section:jobb&site_id=207&limit=2000",headers:{"Access-Control-Allow-Origin":"*"},success:function(a){var t=a.result.filter(e=>"H"!==e.visibility_status);shuffleArray(t),adNodesToCarousel(t,e,i,n)}})}function adNodesToCarousel(e,a,n,i){let t=$('<div class="job-carousel-wrapper"></div>');e.forEach((function(e){t.append(`\n        <article id="${e.id}">\n        <a itemprop="url" href="${e.published_url}">\n            <figure class="image-contain" style="background-image: url(https://dbstatic.no/${e.image}.jpg?imageid=${e.image}&height=300&compression=80)">\n            </figure>\n            <div class="carousel article-preview-text">\n                <div class="carousel-ad-byline">\n                    <div class="carousel-ad-company-logo" style="background-image: url(https://dbstatic.no${e.full_bylines[0].imageUrl})">\n                    </div>\n                    <h4>${e.full_bylines[0].firstname}</h4>\n                </div>\n                <h1 class="headline">\n                    ${e.title}\n                </h1>\n            </div>\n        </a>\n        </article>\n    `)})),n.append(t),n.append(`\n    <a href="/jobb" class="more-jobs"><span>Se alle ledige stillinger (${e.length})</span></a>\n    `),a.before(i.append(n)),n&&parseInt(n.css("width").replace("px",""))>640&&t.slick({infinite:!0,speed:300,slidesToShow:3,centerMode:!0,arrows:!0,accessibility:!0,responsive:[{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,arrows:!1}}]})}function initPremium(e,a){cleanEmptyRows(()=>{getFrontPremiumBanners((function(n,i){if(n.length){shuffleArray(n);var t=getElements(e,a);t.forEach((r,l)=>{if("premium"===a[l].type&&n.length){drawPremium(n.pop(),t[l],e,i)}"carousel"===a[l].type&&initCarousel(t[l])})}}))})}function getElements(e,a){e=$(e);for(var n=[],i=0;i<=a.length-1;i++)n.push(e.find(".row").has("*").eq(a[i].row));return n}function getItemFromArray(e,a){for(let n=0;n<e.length-1;n++)if(e[n].indexOf(a)>-1)return e[n].split(a)[1];return!1}function cleanEmptyRows(e){$(".row").each((e,a)=>{$(a).children().length<1&&$(a).addClass("empty")}),e()}function getRatio(e){var a=a.split("&");getItemFromArray(a,"whRatio="),getItemFromArray(a,"whRatio=")}function drawPremium(e,a,n,i){var t=0,r=.53861386138614,l=100,d=80.712166172107,s=0,o=0,c=0,u="",g="",m="",p="",f=38,v=29,h="",y=(n=$(n)).width(),k=y,b="",A="";if(e&&e.children[0]&&e.children[0].data){t=e.children[0].data.articleId||t,u=e.children[0].data.kicker||u,g="https://www.kode24.no"+e.children[0].data.published_url||g,m=e.children[0].data.title||"",p=e.children[0].data.subtitle||"";let a=e.children[0].data.viewports_json&&e.children[0].data.viewports_json.length>0?JSON.parse(e.children[0].data.viewports_json):{};if(e.children[0].data.children.image){if(e.children[0].data.children.image.field&&(r=e.children[0].data.children.image.field.whRatio||r,l=e.children[0].data.children.image.field.cropw||l,d=e.children[0].data.children.image.field.croph||d,s=e.children[0].data.children.image.field.y||s,o=e.children[0].data.children.image.field.x||o,y<500)){let n=JSON.parse(e.children[0].data.children.image.field.viewports_json)||{};y=600,l=n.mobile.fields.cropw||53,d=n.mobile.fields.croph||100,o=n.mobile.fields.x||0,s=n.mobile.fields.y||0,r=n&&n.mobile&&n.mobile.fields&&n.mobile.fields.whRatio?n.mobile.fields.whRatio:1.246875,v=a&&a.mobile&&a.mobile.fields.title_style_json&&a.mobile.fields.title_style_json.text_size?a.mobile.fields.title_style_json.text_size:29}e.children[0].data.children.image.attribute&&(c=e.children[0].data.children.image.attribute.instanceof_id||0)}if(e.children[0].data.title_style_json){let a=JSON.parse(e.children[0].data.title_style_json);f=a.text_size||"",h=a.text_align||""}}i[t]&&(A=i[t].full_bylines[0].firstname,b=i[t].full_bylines[0].imageUrl),m.indexOf("headline-title-wrapper")<=-1&&(m=`<span class="headline-title-wrapper">${m}</span>`);var w=`\n\n        <div class="row top-listing" style="margin-top: 20px; margin-bottom: 30px;">\n            <article id="article_${t}" class="preview   columns large-12 small-12 medium-12 native-advertisement" itemscope="" itemprop="itemListElement" itemtype="http://schema.org/ListItem" role="article" data-id="${e.id}" data-label="">\n                <a itemprop="url" href="${g}">\n                    <div class="kicker">${u}</div> \n                    <figure id="${c}" style="width: ${k}px; padding-bottom: ${100*r}%;">\n                        <img class="" itemprop="image" alt="logo" src="//dbstatic.no/${c}.jpg?imageId=${c}&x=${o}&y=${s}&cropw=${l}&croph=${d}&width=${y}&height=${Math.round(y*r)}&compression=80">\n                    </figure><div class="article-preview-text">`;A&&b&&(w+=`\n                                <div class="company-information">\n                                    <figure class="image-contain">\n                                        <img alt="logo" src="//dbstatic.no${b}">\n                                    </figure>\n                                    <span>${A}</span>\n                                 </div>\n                                `),m&&"string"==typeof m&&(w+=`\n                                \n                                    <h1 class="headline large-size-${f} text-${h} small-size-${v}">\n                                        ${m}   \n                                    </h1>\n                                    <p class="standfirst text-${h}">${p}</p>\n                                    <div class="labels">\n                                    </div>\n                                    <span class="label-text"></span>\n                                 \n                                `),w+="</div></a>\n            </article>\n        </div>\n    ",a.before(w)}function shuffleArray(e){for(let a=e.length-1;a>0;a--){const n=Math.floor(Math.random()*(a+1));[e[a],e[n]]=[e[n],e[a]]}}function getFrontPremiumBanners(e){getUrl("//api.kode24.no/front/?query=id:70267311",(function(a){getUrl("//api.kode24.no/article/?query=section:jobb&limit=200&orderBy=published&site_id=207",(function(n){let i=a.result[0].content["lab-dz-1"],t={};n.result.map(e=>{t[e.id]=e}),i.length>1?e(i.slice(1),t):e([],{})}))}))}function getUrl(e,a){$.ajax({type:"GET",url:e,headers:{"Access-Control-Allow-Origin":"*"},success:function(e){a(e)}})}function shuffleArray(e){for(let a=e.length-1;a>0;a--){const n=Math.floor(Math.random()*(a+1));[e[a],e[n]]=[e[n],e[a]]}}function halfSizeByLineImage(e){return e.replace("")}function drawContentAd(e){if(e.length){var a=e[0],n=$('<div class="aside-container ads"><h3>Anonsørinnhold</h3></div>'),i=$(`<a class="premium-ad content-ad ad" href="//kode24.no${a.published_url}">\n                <div class="ad-image"><img alt="logo" src="//dbstatic.no/${a.image}.jpg?width=400"></div>\n                <div class="ad-text">\n                    <div class="ad-company-logo"><img alt="logo" src="https://dbstatic.no${a.full_bylines[0].imageUrl}"></div>\n                    <h4>${a.full_bylines[0].firstname}</h4>\n                    <h5>${a.title}</h5>\n                    <h6>${a.subtitle}</h6>\n                </div>\n                \n            </a>`);return n.append(i),n}return""}function drawAdsContainer(e,a){var n=$('<div class="aside-container small ads"><h3>Ledige stillinger</h3></div>'),i=getPremiumAdsElement(a),t=i.premiumAds,r=getRegularAdsElements(e,i.ids);return t&&n.append(t),r&&n.append(r),n.append('<div class="adslist-see-more"><a href="//kode24.no/jobb/"><span>Se alle stillinger ('+e.length+")</span></a></div>"),n}function drawRelatedArticles(e,a){e=e.slice(0,3);var n=$('<div class="aside-container related"><h3>Siste fra: '+a+"</h3></div>");return e.forEach((function(e,a){var i=$(`\n            <article class="article top ${0===a?"top":""}">\n            <a class="article-link" href="//kode24.no${e.published_url}">\n             <div class="article-image"><img src="//dbstatic.no/${e.image}.jpg?width=400"></div>\n            <div class="text-content">\n                <h4>${e.title}</h4>\n            </div>    \n             </a></article>`);n.append(i)})),n}function drawFrontArticles(e){e=e.slice(0,5);var a=$('<div class="aside-container related front"><h3>Siste nytt</h3></div>');return e.forEach((function(e,n){var i=$(`\n            <article class="article">\n            <a class="article-link" href="${e.url}">\n             <div class="article-image"><img src="//dbstatic.no/${e.imageUrl}"></div>\n            <div class="text-content">\n                <h4>${$("<div>"+e.title+"</div>").text()}</h4>\n                <h5>${$("<div>"+e.description+"</div>").text()}</h5>\n            </div>    \n             </a></article>`);a.append(i)})),a}function drawAside(e,a){var n=$("<div></div>").addClass("aside-desktop"),i=drawAdsContainer(e,a);n.append(i),$("#desktop-sidemenu-front").append(n)}function getRegularAdsElements(e,a){var n=$('<div class="regular-ad"></div>');return shuffleArray(e),e.forEach((function(e){if(a.indexOf(e.id)<0&&"P"===e.visibility_status){var i=getCitysFromTags(e.tags),t=$(`\n                <a class="ad" href="//kode24.no${e.published_url}">\n                <div class="ad-company-logo"><img src="https://dbstatic.no${e.full_bylines[0].imageUrl}"></div>\n                <h4>\n                    ${e.full_bylines[0].firstname}&nbsp;\n                </h4>\n                <h5>${e.title}</h5>\n                </a>`),r=$('<p class="cities"></p>');i.forEach((function(e){r.append($("<span>"+e+"</span>"))})),t.append(r),n.append(t)}})),n}function getPremiumAdsElement(e,a){var n=$('<div id="premium-ads"></div>'),i=[];return shuffleArray(e),e.length&&e.forEach((function(e){i.push(e.id);let t=getCitysFromTags(e.tags),r=$(`\n          <a class="premium-ad ad" href="//kode24.no${e.published_url}">\n          ${a?"":`<div class="ad-image"><img src="//dbstatic.no/${e.image}.jpg?width=400"></div>`}\n                  <div class="ad-text">\n                  <div class="ad-company-logo"><img src="https://dbstatic.no${e.full_bylines[0].imageUrl}"></div>\n                      <h4>${e.full_bylines[0].firstname}</h4>\n                      <h5>${e.title}</h5>\n                      <h6>${e.subtitle}</h6>\n                  </div>\n                  \n              </a>`);var l=$('<p class="cities"></p>');t.forEach((function(e){l.append($("<span>"+e+"</span>"))})),r.append(l),n.append(r)})),{premiumAds:n,ids:i}}function getAds(e){getUrl("//api.kode24.no/article/?query=published:[2017-01-01T00:00:00Z+TO+NOW]+AND+NOT+hidefromfp_time:[*+TO+NOW]+AND+visibility_status:P+AND+section:jobb&site_id=207&limit=2000",(function(a){var n=a.result.filter(e=>"H"!==e.visibility_status);e(n)}))}function getFrontArticles(e,a,n){getUrl("//www.kode24.no/"+e+"?lab_viewport=json",(function(e){var i=[];i=a?e.result.filter((function(e){return"1"!==e.isContentMarketing})):e.result,n(i)}))}function getContentAds(e){getUrl("//api.kode24.no/article/?query=published:[2017-01-01T00:00:00Z+TO+NOW]+AND+visibility_status:P+AND+section:annonse&limit=50&orderBy=published&site_id=207",(function(a){var n=a.result.filter(e=>e.tags.indexOf("content")>-1);e(n)}))}function getArticlesByTag(e){var a=getArticleId();getUrl("//api.kode24.no/article/?query=id:"+a,(function(a){var n=a.result[0].section_tag;getUrl('//api.kode24.no/article/?query=published:[2017-01-01T00:00:00Z+TO+NOW]+AND+visibility_status:P+AND+section:"'+n+'"&limit=50&orderBy=published&site_id=207',(function(a){e(a.result,n)}))}))}function getArticleId(){var e=window.location.href.split("?")[0].split("/").filter(e=>""!==e);return e[e.length-1]}function getCitysFromTags(e){e=e.split(",");var a=[],n=["Halden","Moss","Sarpsborg","Fredrikstad","Hvaler","Aremark","Marker","Rømskog","Trøgstad","Spydeberg","Askim","Eidsberg","Skiptvet","Rakkestad","Råde","Rygge","Våler","Hobøl","Vestby","Ski","Ås","Frogn","Nesodden","Oppegård","Bærum","Asker","Aurskog-Høland","Sørum","Fet","Rælingen","Enebakk","Lørenskog","Skedsmo","Nittedal","Gjerdrum","Ullensaker","Nes","Eidsvoll","Nannestad","Hurdal","Oslo","Kongsvinger","Hamar","Ringsaker","Løten","Stange","Nord-Odal","Sør-Odal","Eidskog","Grue","Åsnes","Våler","Elverum","Trysil","Åmot","Stor-Elvdal","Rendalen","Engerdal","Tolga","Tynset","Alvdal","Folldal","Os","Lillehammer","Gjøvik","Dovre","Lesja","Skjåk","Lom","Vågå","Nord-Fron","Sel","Sør-Fron","Ringebu","Øyer","Gausdal","Østre Toten","Vestre Toten","Jevnaker","Lunner","Gran","Søndre Land","Nordre Land","Sør-Aurdal","Etnedal","Nord-Aurdal","Vestre Slidre","Øystre Slidre","Vang","Drammen","Kongsberg","Ringerike","Hole","Flå","Nes","Gol","Hemsedal","Ål","Hol","Sigdal","Krødsherad","Modum","Øvre Eiker","Nedre Eiker","Lier","Røyken","Hurum","Flesberg","Rollag","Nore og Uvdal","Horten","Tønsberg","Sandefjord","Svelvik","Larvik","Sande","Holmestrand","Re","Færder","Porsgrunn","Skien","Notodden","Siljan","Bamble","Kragerø","Drangedal","Nome","Bø","Sauherad","Tinn","Hjartdal","Seljord","Kviteseid","Nissedal","Fyresdal","Tokke","Vinje","Risør","Grimstad","Arendal","Gjerstad","Vegårshei","Tvedestrand","Froland","Lillesand","Birkenes","Åmli","Iveland","Evje og Hornnes","Bygland","Valle","Bykle","Kristiansand","Mandal","Farsund","Flekkefjord","Vennesla","Songdalen","Søgne","Marnardal","Åseral","Audnedal","Lindesnes","Lyngdal","Hægebostad","Kvinesdal","Sirdal","Eigersund","Sandnes","Stavanger","Haugesund","Sokndal","Lund","Bjerkreim","Hå","Klepp","Time","Gjesdal","Sola","Randaberg","Forsand","Strand","Hjelmeland","Suldal","Sauda","Finnøy","Rennesøy","Kvitsøy","Bokn","Tysvær","Karmøy","Utsira","Vindafjord","Bergen","Etne","Sveio","Bømlo","Stord","Fitjar","Tysnes","Kvinnherad","Jondal","Odda","Ullensvang","Eidfjord","Ulvik","Granvin","Voss","Kvam","Fusa","Samnanger","Os","Austevoll","Sund","Fjell","Askøy","Vaksdal","Modalen","Osterøy","Meland","Øygarden","Radøy","Lindås","Austrheim","Fedje","Masfjorden","Flora","Gulen","Solund","Hyllestad","Høyanger","Vik","Balestrand","Leikanger","Sogndal","Aurland","Lærdal","Årdal","Luster","Askvoll","Fjaler","Gaular","Jølster","Førde","Naustdal","Bremanger","Vågsøy","Selje","Eid","Hornindal","Gloppen","Stryn","Molde","Ålesund","Kristiansund","Vanylven","Sande","Herøy","Ulstein","Hareid","Volda","Ørsta","Ørskog","Norddal","Stranda","Stordal","Sykkylven","Skodje","Sula","Giske","Haram","Vestnes","Rauma","Nesset","Midsund","Sandøy","Aukra","Fræna","Eide","Averøy","Gjemnes","Tingvoll","Sunndal","Surnadal","Rindal","Halsa","Smøla","Aure","Bodø","Narvik","Bindal","Sømna","Brønnøy","Vega","Vevelstad","Herøy","Alstahaug","Leirfjord","Vefsn","Grane","Hattfjelldal","Dønna","Nesna","Hemnes","Rana","Lurøy","Træna","Rødøy","Meløy","Gildeskål","Beiarn","Saltdal","Fauske","Sørfold","Steigen","Hamarøy","Tysfjord","Lødingen","Tjeldsund","Evenes","Ballangen","Røst","Værøy","Flakstad","Vestvågøy","Vågan","Hadsel","Bø","Øksnes","Sortland","Andøy","Moskenes","Harstad","Tromsø","Kvæfjord","Skånland","Ibestad","Gratangen","Lavangen","Bardu","Salangen","Målselv","Sørreisa","Dyrøy","Tranøy","Torsken","Berg","Lenvik","Balsfjord","Karlsøy","Lyngen","Storfjord","Kåfjord","Skjervøy","Nordreisa","Kvænangen","Vardø","Vadsø","Hammerfest","Kautokeino","Alta","Loppa","Hasvik","Kvalsund","Måsøy","Nordkapp","Porsanger","Karasjok","Lebesby","Gamvik","Berlevåg","Tana","Nesseby","Båtsfjord","Sør-Varanger","Trondheim","Steinkjer","Namsos","Hemne","Snillfjord","Hitra","Frøya","Ørland","Agdenes","Bjugn","Åfjord","Roan","Osen","Oppdal","Rennebu","Meldal","Orkdal","Røros","Holtålen","Midtre Gauldal","Melhus","Skaun","Klæbu","Malvik","Selbu","Tydal","Meråker","Stjørdal","Frosta","Levanger","Verdal","Verran","Namdalseid","Snåsa","Lierne","Røyrvik","Namsskogan","Grong","Høylandet","Overhalla","Fosnes","Flatanger","Vikna","Nærøy","Leka","Inderøy","Indre Fosen"];return e.forEach((function(e){e=e.replace(/ /g,""),n.forEach((function(n,i){e==n.toLowerCase()&&a.push(n)}))})),a}function cleanSectionTag(e){return e=e.replace(/ /g,"-")}function getUrl(e,a){$.ajax({type:"GET",url:e,headers:{"Access-Control-Allow-Origin":"*"},success:function(e){a(e)}})}$((function(){var e=[],a=[],n=($(".auto-job-carousel"),$("main").height()),i=window.screen.width;getAds((function(t){e=t,adCounterToTopNav(t.length),getArticlesByTag((function(r,l){getFrontArticles("premium/",!1,(function(d){let s=d.map(e=>e.instance_of);a=t.filter(e=>s.indexOf(parseInt(e.id))>-1),i<=640&&window.location.pathname.indexOf("/jobb/")<0&&a.length&&drawPremiumUnderByline(a),getFrontArticles("",!0,(function(i){getContentAds((function(t){drawAside(e,a,r,l,i,n,t),drawFooterContent(e,a,r,l,i,t)}))}))}))}))}))})),$(()=>{$("figure[data-image-lightbox]").on("click",e=>{e.stopPropagation(),e.preventDefault();let a=$(e.target);if(a[0].hasAttribute("data-options")||(a=a.parent()),!a.hasClass("active")){let e=a.attr("data-options").replace("src:","");a.css("background-image",`url(${e})`)}a.toggleClass("active")})}),$((function(){var e=[],a=[];window.location.pathname.indexOf("jobb")<=-1&&window.location.pathname.indexOf("sok")<=-1?getAds((function(n){e=n,adCounterToTopNav(n.length),getFrontArticles("premium/",!1,(function(i){let t=i.map(e=>e.instance_of);a=n.filter(e=>t.indexOf(parseInt(e.id))>-1),drawAside(e,a)}))})):$(".frontpage").removeClass("wide")})),$((function(){if(window.location.pathname.indexOf("/jobb/")>-1){const e=/[A-Za-z:]*\/\/[0-9a-z\.:]*\/[a-z]*\/[a-z-]*\/([0-9]*).*/.exec(window.location.href)[1],a={articleId:e,clicked:new Date,url:window.location.href,referrerUrl:document.referrer};e.length>1&&$.post("https://kode24-joblisting.herokuapp.com/api/listing/add/click",a),$("a").on("click",a=>{let n=$(a.target).prop("href");n.indexOf("kode24.no")<0&&$.post("https://kode24-joblisting.herokuapp.com/api/listing/add/otherclick",{articleId:e,clicked:new Date,url:n})}),$(".job-ad-cta").on("click",()=>{$.post("https://kode24-joblisting.herokuapp.com/api/listing/add/appliedclick",a)})}}));var trackOutboundLink=function(e,a,n){ga("send","event",{eventCategory:a,eventAction:n,eventLabel:e,transport:"beacon"})};if($((function(){$("a").click((function(e){let a=e.currentTarget.href;a.indexOf("https://www.kode24.no/")<0&&trackOutboundLink(a,"Ekstern_lenke","klikk")}))})),"/"!==window.location.pathname){var headerNavigation=document.getElementById("top-navigation"),headerCloak=document.getElementById("header-cloak"),alwaysSticky=!1;document.addEventListener("DOMContentLoaded",e=>{!document.querySelector("article header .full-bleed")&&headerNavigation&&headerCloak&&(headerNavigation.classList.add("sticky"),headerCloak.classList.add("sticky","no-animation"),alwaysSticky=!0)}),window.onscroll=function(){headerNavigation&&headerCloak&&(window.pageYOffset>0?(headerNavigation.classList.add("sticky"),headerCloak.classList.add("sticky")):alwaysSticky||(headerNavigation.classList.remove("sticky"),headerCloak.classList.remove("sticky")))}}$(()=>{!function(e,a){$.ajax({type:"GET",url:e,headers:{"Access-Control-Allow-Origin":"*"},success:function(e){a(e)}})}("//api.kode24.no/front/?query=id:70559216",(function(e){let a=JSON.parse(e.result[0].content["lab-dz-1"][0].children[0].data.markup),n=(i=a.length,Math.floor(Math.random()*i+0));var i;let t=$("main"),r=a[n],l=r.desktopBannerUrl,d=r.mobileBannerUrl,s=r.mobileWidth||"",o=r.mobileHeight||"",c=r.desktopWidth||"",u=r.desktopHeight||"",g=r.url,m=r.type||"image",p=r.eventName;adElement="iframe"===m?$(`\n        <div class="row top-profile" style="margin-top: 20px; max-width: ${c};">\n          <div class="kicker">ANNONSE</div> \n          <figure class="desktop">\n            <iframe src="${l}" frameborder="0" style="width:${c}; height:${u};"></iframe>\n          </figure>\n\n          <figure class="mobile">\n            <iframe src="${d}" frameborder="0" style="width:${s}; height:${o}"></iframe>\n          </figure>\n        </div>    \n      `):$(`\n        <div class="row top-profile" style="margin-top: 20px;">\n          <a rel="noopener" itemprop="url" class="top-banner" href="${g}" target="_blank">\n            <div class="kicker">ANNONSE</div> \n            <figure class="desktop">\n                <img itemprop="image" alt="annonse" src="${l}">\n            </figure>\n\n            <figure class="mobile">\n                <img itemprop="image" alt="annonse" src="${d}">\n            </figure>\n          </a>\n        </div>    \n      `),document.querySelector("header .full-bleed")||t.before(adElement),adElement.find("a").on("click",()=>{trackOutboundLink("bannerannonse kode24",p,"klikk")})}))}),function(){var e=!1,a={small:"(?:[0-9]|[0-9][0-9]|[0-6][0-3][0-9])",medium:"(?:6[4-9][0-9]|[7-9][0-9][0-9]|10[0-2][0-3])",large:"(?:10[2-9][4-9]|[1-9][1-9][0-9][0-9])"},n=400,i=[],t=[];function r(){for(var e=void 0!==window.pageYOffset?window.pageYOffset:document.body.scrollTop,a=e+window.innerHeight+n,r=0;r<t.length;r++)parseInt(t[r].getBoundingClientRect().top+e)<a&&d(t[r]);i=document.querySelectorAll("img[data-srcset]:not([data-defer])"),t=document.querySelectorAll("img[data-defer]")}function l(){for(var e=0;e<i.length;e++)d(i[e])}function d(e){var n,i;return!(!e.dataset.srcset&&!e.dataset.srcset)&&(void 0!==e.dataset.src?i=e.dataset.src:(n=window.innerWidth<=640?a.small:window.innerWidth>1024?a.large:a.medium,i=function(e,a){var n=new RegExp("([^\\s|\\d|w|,]\\S+)\\s"+a+"w","i"),i=e.match(n);return i?i[1].trim():""}(e.dataset.srcset,n)),"IMG"==e.tagName?i!=e.getAttribute("src")&&e.setAttribute("src",i):e.style.backgroundImage="url("+i+")",e.removeAttribute("data-defer"),e)}function s(){console.log("yo"),e?o():(i=document.querySelectorAll("img[data-srcset]:not([data-defer])"),t=document.querySelectorAll("img[data-defer]"),l(),r(),window.addEventListener("scroll",(function(){window.requestAnimationFrame(r)})),window.addEventListener("resize",(function(){window.requestAnimationFrame(l)})),e=!0)}function o(){i=document.querySelectorAll("img[data-srcset]:not([data-defer])"),t=document.querySelectorAll("img[data-defer]"),l(),r()}s()}();